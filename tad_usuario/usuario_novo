#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "Usuario.h"



// Função para exibir o menu de opções
void mostrarMenu() {
    printf("\nCaro usuário, suas opções são:\n");
    printf("1) Cadastrar um usuário\n");
    printf("2) Listar usuários cadastrados e suas informações\n");
    printf("3) Pedir para ser parceiro de um usuário\n");
    printf("4) Avaliar lista de pedidos de parceria\n");
    printf("5) Enviar mensagem para um parceiro\n");
    printf("6) Ver mensagens recebidas\n");
    printf("7) Sugerir novas parcerias\n");
    printf("8) Reinicializar sistema\n");
    printf("0) Sair\n");
    printf("O que deseja fazer? ");
}
void mostrarLogin(){
    printf("BEM VINDO AO LINKADINHO AGORA VENDA SEUS DADOS");
    printf("Escolha entre fazer Login ou Cadastro");
    printf("1) Login");
    printf("2) Cadastro");
    printf("Escreva o número 1 ou 2");
}

int main() {
    int n, option;
    char apelido[MAX_caracter_apelido];
        // Declara o usuario que usará o program
    Usuario *atual;
    // Declara a lista principal de usuários
    ListaUsuario listaUsuarios;
    printf("Escolha se quer fazer 1)Login ou 2)Cadastrar (Escreva o número 1 ou 2)");   
    scanf("%d",&option);

    do{
        mostrarLogin();
        switch (option)
        {
        case 1:
            printf("Escreva seu apelido");
            scanf("%s", &apelido);
            Login(listaUsuarios,apelido);
            do {
            mostrarMenu();
            scanf("%d", &n);
            
            int resultado;
            
            Usuario  *usuario, *remetente, *destinatario; 
            
            switch(n) {
                case 1://feito
                    // Listar usuários e seus parceiros
                    Listar_Usuarios(listaUsuarios);
                    break;
                //perdir para ser parceiro do usuario
                case 2://feito
                    Solicitar_Parceria(listaUsuarios);
                    break;

                case 3:
                    // Avaliar lista de pedidos de parceria
                    break;

                case 4:
                    // Enviar mensagem para um parceiro
                    break;

                case 5:
                    // Ver mensagens recebidas
                    break;

                case 6://feito
                    Sugerir_Amigos(&listaUsuarios);
                    printf("Operação de sugestão de amigos realizada.\n");
                    break;

                case 7://feito
                    ReinicializarSistema(&listaUsuarios);
                    break;

                case 0://feito
                    printf("Desconectando...\n");
                    mostrarLogin();
                    break;

                default://feito
                    printf("Opção inválida! Tente novamente.\n");
            }
        }while (n != 0);
            break;
        case 2:
            Cadastrar(listaUsuarios);
            
        case 0:
            printf("Saindo do Sistema...\n");
            break;
        default:
            printf("Opção inválida! Tente novamente.\n");
            break;
        }
    }while(option != 0);

    return 0;
}
